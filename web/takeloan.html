<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <script>
    
    
        // handle form submit
        function submit() {

            // form values
            var name = document.getElementById('name').value;
            var email = document.getElementById('name').value;
 var object={};
  object[name]=name;
 object[email]=email;
            
            // var data[] = { "name": [name],"email" : [email]}



//             var object = {};
// data.forEach(function(value, key){
//     object[key] = value;
// });
var json = JSON.stringify(object);
console.log(json);

// +   var value = Object.fromEntries(data.entries());

  console.log(data );

            var http = new XMLHttpRequest();
            var url = 'https://fleek-api.herokuapp.com/predict';
            http.open('POST', url, true);
            http.setRequestHeader("Content-Type", "application/json");
            http.onreadystatechange = function() {
                if (http.readyState == 4 && http.status == 200) {

                    alert("Form submitted successfully");
                    document.getElementById("frmdata").reset();
                    console.log(http.responseText);
                    window.location.replace("code/html/loan_processing.html");
                }
            }
            http.send(data);
        }
    
    </script>
</head>

<body>
    <div class="app-container">
        <div class="top-box-1">
            <div class="box1-sub">
                <div class="button">
                    <a href="../web/code/html/index.html">
                        <ion-icon style="color: white;" name="chevron-back-outline"></ion-icon>
                    </a>
                    </div>
                <p>Onboarding Loan</p>
            </div>
        </div>
        <div class="top-box-2">
            <div class="box-2-txt">
                <p class="icon">
                    <ion-icon name="document-outline"></ion-icon>
                </p>
                <p>
                    Please answer the questions elow to help us give you the best offer
                </p>
            </div>
        </div>

        <div class="indicators">
            <div class="active-indicator indic-1"></div>
            <div class="indic-2"></div>
            <div class="indic-3"></div>
        </div>

        <div class="form-holder">
            <form action="">
                <div class="form-1">
                    <div class="input-holder-1">
                        <input type="text" name="" id="fname" placeholder="First Name">
                        <input type="text" name="" id="lname" placeholder="Last Name">
                        <input type="text" name="" id="email" placeholder="Email Address">
                    </div>

                    <div class="input-label">
                        Gender <div class="line"></div>
                    </div>
                    <div class="input-holder-2">
                        <div class="gender  male">
                            <input type="radio" class="choosen" name="g" id="gender" value="1"> Male
                        </div>
                        <div class="gender female">
                            <input type="radio" class="choosen" name="g" id="gender" value="1">Female
                        </div>
                    </div>
                    <div class="date">
                        <p class="data-label">Date Of Birth</p>
                        <input type="date" name="" id="">
                    </div>

                    <div class="big-btn next-1">
                        Next
                    </div>
                </div>
                <div class="form-2">
                    <div class="input-label">
                        <p class="full-width"> Marital Status</p>
                        <div class="line-2"></div>
                    </div>

                    <div class="input-holder-3">
                        <div class="active-pick single">
                            <input type="radio" class="choosen" name="m" id="status"value="1">Single
                        </div>
                        <div class="married">
                            <input type="radio" class="choosen" name="m" id="status"value="0">Married
                        </div>
                        <div class="others">
                            <input type="radio" class="choosen" name="m" id="status" value="2">Others
                        </div>
                    </div>

                    <div class="input-label">
                        <p class="full-width"> Salary Income</p>
                        <div class="line-2"></div>
                    </div>

                    <div class="input-holder-4">
                        <div class="monthly">
                            <input type="radio" class="choosen" name="s" id="monthly">Monthly
                        </div>
                        <div class="weekly">
                            <input type="radio" class="choosen" name="s" id="weekly">Weekly
                        </div>
                        <div class=" daily">
                            <input type="radio" class="choosen" name="s" id="daily">Daily
                        </div>

                        <div class="employed">
                            <input type="radio" class="choosen" name="e" id="employed"value="1">Employed
                        </div>
                        <div class="self-employed">
                            <input type="radio" class="choosen" name="e" id="employed"value="2">Self-Employed
                        </div>
                        <div class="others2">
                            <input type="radio" class="choosen" name="e" id="employed" value="0">Not-Employed
                        </div>
                    </div>

                    <div class="input-holder-5">
                        <select name="" id="Salary">
                            <option value="10000">N5,000 - N10,000 </option>
                            <option value="15000">N10,000 - N15,000 </option>
                            <option value="20000">N15,000 - N20,000 </option>
                            <option value="25000">N20,000 - N25,000 </option>
                            <option value="30000">N30,000 - N35,000 </option>
                            <option value="40000">N40,000 - N45,000 </option>
                            <option value="60000">N50,000 - Above </option>
                        </select>
                    </div>

                    <div class="big-btn next-2">
                        Next
                    </div>
                </div>

                <div class="form-3">
                    <div class="input-holder-1">
                        <input type="text" name="" id="" placeholder="Applicant Income (Monthly)">
                        <input type="text" name="" id="" placeholder="Co-Applicant Income">
                        <input type="text" name="" id="bankbalance" placeholder="Bank Balance">
                        <input type="text" name="" id="" placeholder="Loan Amount Terms">
                        <input type="text" name="" id="" placeholder="Loan Amount">
                        <div class="pdf-input">
                            <div>
                                <p id = "GFG_DOWN">Bank Statement</p>
                                <p>
                                    <ion-icon name="cloud-upload"></ion-icon>
                                </p>
                            </div>
                            <input type="file" oninput = "GFG_Fun()" name="" id="file">
                        </div>
                        <p class="sub-txt">Bank Statement Must Be At Least 6 Months Old</p>
                    </div>

                    <div class="submit-holder">
                        <button class="big-btn" onclick="submit()">
                            <!-- <a href="code/html/loan_processing.html"> -->
                                Submit
                            <!-- </a> -->
                        </button>
                    </div>
                </div>

                
            </form>
        </div>
    </div>

    <div class="menu-holder">
        <div class="menu">
            <ul>
                <li>
                   <a href="/FSI UI/code/html/index.html">
                    <a href="../web/code/html/index.html">
                        <ion-icon name="home"></ion-icon>
                    </a>
                    <p class="icon-title">Home</p>
                   </a>
                </li>
                <li>
                   <a href="/FSI UI/code/html/Profile.html">
                    <a href="../web/code/html/Profile.html">
                        <ion-icon name="person"></ion-icon>
                    </a>
                    <p class="icon-title">Profile</p>
                   </a>
                </li>
            </ul>
        </div>
    </div>
    </div>

    <script src="script/script.js"></script>
    <script>
        $(".form-1").fadeIn("fast");
        $(".form-2").fadeOut("fast");
        $(".form-3").fadeOut("fast");
    </script>
    <script> 
        var up = document.getElementById('GFG_UP');
        var down = document.getElementById('GFG_DOWN');
          
        up.innerHTML = "Click on the button to see"
                    + " if any file is selected";
          
        function GFG_Fun() {
            if ($('#file')[0].files.length === 0) {
                down.innerHTML = "No files selected";
            } else {
                down.innerHTML = document.getElementById("file").value;
            }
        }
    </script> 
</body>

</html>